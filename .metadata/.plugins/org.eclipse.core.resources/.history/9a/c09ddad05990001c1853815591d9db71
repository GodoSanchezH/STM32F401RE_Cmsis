/*
 * Clock_Config.c
 *
 *  Created on: 17 feb. 2022
 *      Author: LENOVO
 */

#include "Clock_Config.h"



void Init_Clock(void){

	/*
	 *   --------- 8MHZ to
	 *   --------- 84MHZ
	 */


RCC->PLLCFGR &= ~(RCC_PLLCFGR_PLLM | RCC_PLLCFGR_PLLN |RCC_PLLCFGR_PLLP); //Limpiamos el Registro del Clock en eL pll
RCC->PLLCFGR  |= PLL_M | (PLL_N<<6) | (PLL_P<<16);//Cargamos los valores de nuestro PLL



//HSE
RCC->CR |=RCC_CR_HSEON;				//  1: HSE Encendido
while( !(RCC->CR & (1 << 17)) );	//	1: HSE esperamos que active

RCC->PLLCFGR |= (1 <<RCC_PLLCFGR_PLLSRC); //HS->PLL
RCC->CR |= RCC_CR_PLLON ;			// 1: Habilitamos el PLL
while(!(RCC->CR & RCC_CR_PLLRDY));	//1: Esperamos la activacion del PLL






}
